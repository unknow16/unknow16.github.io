---
title: fabric基础概念
toc: true
date: 2019-12-30 14:53:23
tags:
categories:
---



背书目前底层实现

关于 HyperLedger Fabric 共识机制，它目前包括 Solo 和Kafka ，并将很快扩展到 SBFT （简化的拜占庭式容错）。



## 节点角色

- **CA：**负责网络中所有证书的管理（分发、撤销等），实现标准的PKI（公共密钥基础）架构。

- **Orderers：**提供共识服务的网络节点，例如，使用Kafka或PBFT。
- **Endorser节点：**对交易提案的背书（目前主要是签名）处理。
- **Comitter：**检查交易的合法性，最终将交易提交到去区块链中，维护区块链和账本结构。
- **客户端（App）:**使用SDK来跟Fabric网络操作。

同一个物理节点可以仅作为Committer角色运行，也可以同时担任Endorser和Committer这两种角色。

它们之间的关系可以用下图来表示：

![](01-fabric基础概念/01.jpg)

在整个交易过程中，各个组件的主要功能如下：

1. 首先，客户端从CA获取合法的身份证书来加入网络内的应用通道。然后，将交易的提案发送给配置文件里指定的背书节点（Endorser节点）。

2. Endorser节点完成对交易提案的背书（目前主要是签名）处理。检查是否合法，通过则模拟运行交易，对交易导致的状态变化进行背书并返回结果给客户端。
3. Orderer节点为网络中所有合法交易进行全局排序，并将一批排序后的交易组合**生成区块结构**。
4. Committer节点会定期地从Orderer获取排序后的批量交易区块结构，对这些交易进行落盘前的最终检查。检查通过后执行合法的交易，将结果**写入账本**，同时构造新的区块。



## 通道

通道是两个或多个特定网络成员之间的通信的私有“子网”，用于进行需要数据保密的交易。在Fabric中，建立一个通道相当于建立了一个个子链。

一般情况下，一条区块链网路的子链是按照“**1个通道+ 1个账本+ N个成员** ”的基本组成。

创建通道是为了限制信息传播的范围，是和某一个账本关联的。每个交易都是和唯一的通道关联的。这会明确地定义哪些实体（组织及其成员）会关注这个交易。

## 参考资料

> - []()
> - []()
