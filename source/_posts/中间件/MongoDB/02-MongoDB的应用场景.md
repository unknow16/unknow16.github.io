---
title: 02-MongoDB的应用场景和案例
toc: true
date: 2019-08-26 15:39:59
tags:
categories:
---

MongoDB 是一个介于关系数据库和非关系数据库之间的产品，是非关系数据库当中功能最丰富，最像关系数据库的。

## 常见应用场景

1. 存储一些监控数据，No schema 对开发人员来说，真的很方便，增加字段不用改表结构，本身存的就是json，可以很方便的接入各种存储日志的地方，然后可以做成相关监控报表
2. 爬虫数据，然后再慢慢结构化处理
3. 游戏场景，使用 MongoDB 存储游戏用户信息，用户的装备、积分等直接以内嵌文档的形式存储，方便查询、更新
4. 物流场景，使用 MongoDB 存储订单信息，订单状态在运送过程中会不断更新，以 MongoDB 内嵌数组的形式来存储，一次查询就能将订单所有的变更读取出来。
5. 社交场景，使用 MongoDB 存储存储用户信息，以及用户发表的朋友圈信息，通过地理位置索引实现附近的人、地点等功能
6. 物联网场景，使用 MongoDB 存储所有接入的智能设备信息，以及设备汇报的日志信息，并对这些信息进行多维度的分析
7. 视频直播，使用 MongoDB 存储用户信息、礼物信息等
8. O2O快递应用，将送快递骑手、快递商家的信息（包含位置信息）存储在 MongoDB，然后通过 MongoDB 的地理位置查询，这样很方便的实现了查找附近的商家、骑手等功能，使得快递骑手能就近接单



>  如果你还在为是否应该使用 MongoDB，不如来做几个选择题来辅助决策（注：以下内容改编自 MongoDB 公司 TJ 同学的某次公开技术分享）。

- 应用不需要事务及复杂 join 支持
- 新应用，需求会变，数据模型无法确定，想快速迭代开发
- 应用需要2000-3000以上的读写QPS（更高也可以）
- 应用需要TB甚至 PB 级别数据存储
- 应用发展迅速，需要能快速水平扩展
- 应用要求存储的数据不丢失
- 应用需要99.999%高可用
- 应用需要大量的地理位置查询、文本查询

如果上述有1个符合，可以考虑 MongoDB，2个及以上的符合，选择 MogoDB 绝不会后悔。



## 实践案例

1. 网游阴阳师的数据库

2. 千寻位置的日志收集分析
3. 妈妈帮的核心系统
4. 小红书的核心系统
5. 高德的app展示
6. Teambition的核心系统
7. 360的移动搜索



## 特性和优势

- 灵活的文档模型

JSON 格式存储最接近真实对象模型，对开发者友好，方便快速开发迭代

- 高可用复制集

满足数据高可靠、服务高可用的需求，运维简单，故障自动切换

- 可扩展分片集群

海量数据存储，服务能力水平扩展

- 高性能

mmapv1、wiredtiger、mongorocks（rocksdb）、in-memory 等多引擎支持满足各种场景需求

- 强大的索引支持

地理位置索引可用于构建 各种 O2O 应用、文本索引解决搜索的需求、TTL索引解决历史数据自动过期的需求

- Gridfs

解决文件存储的需求



## 参考资料
> - []()
> - []()
